/*
 * Compressed by JSA(www.xidea.org)
 */
jQuery.uiTableEdit=function(E,D){function A(){return E.find(D.find).unbind("mousedown.uiTableEdit")}D=D||{};D.find=D.find||"tbody > tr > td";if(D.off){A().find("form").each(function(){var _=$(this);_.parents("td:first").text(_.find(":text").attr("value"));_.remove()});return E}function C($){A().bind("mousedown.uiTableEdit",$)}function B(){var $=jQuery(this);function F(E){var A=$.find(":text").attr("value");if(D.dataVerify){var B=D.dataVerify.call(this,A,G,E,$);if(B===false)return false;if(B!==null&&B!==undefined)A=B}$.html("");$.text(A);if(D.editDone)D.editDone(A,G,E,$);C(_)}function H(A){if(A.keyCode===27){$.html("");$.text(G);C(_)}}var G=$.text(),A=$.width(),B=$.height();$.css({width:A+"px",height:B+"px",padding:"0",margin:"0"});$.html("<form name=\"td-editor\" action=\"javascript:void(0);\">"+"<input type=\"text\" name=\"td_edit\" value=\""+$.text()+"\""+" style=\"margin:0px;padding:0px;border:0px;width: "+A+"px;\">"+"</input></form>").find("form").submit(F).mousedown(F).blur(F).keypress(H);function E(){$.find("input:text").get(0).focus()}setTimeout(E,50);C(F)}var _=!D.mouseDown?B:function(){if(D.mouseDown.apply(this,arguments)==false)return false;B.apply(this,arguments)};C(_);return E}